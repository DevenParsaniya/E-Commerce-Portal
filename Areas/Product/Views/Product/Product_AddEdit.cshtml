﻿@{
    ViewData["Title"] = "Product Add";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
}

@model E_Commerce_Website.Areas.Product.Models.ProductModel

<h1>Product Add/Edit</h1>

<div class="col-md-6 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <form class="forms-sample" method="post" asp-area="Product" asp-controller="Product" asp-action="ProductSave" enctype="multipart/form-data">
                @Html.HiddenFor(x => x.ProductID)
                @Html.HiddenFor(x => x.ProductImage)
                <div class="js-example-basic-single mb-3">
                    <label class="mb-3">Category Name</label>
                    <select class="form-select" name="CategoryID" asp-for="CategoryID" asp-items="@(new SelectList(ViewBag.CategoryList,"CategoryID","CategoryName"))">
                        <option disabled selected value="">Select Category</option>
                    </select>
                    <span asp-validation-for="CategoryID" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>Product Name</label>
                    <input type="text" class="form-control" placeholder="Enter Category Name" asp-for="ProductName">
                    <span asp-validation-for="ProductName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>Product Description</label>
                    <input type="text" class="form-control" placeholder="Enter Product Description" asp-for="ProductDescription">
                    <span asp-validation-for="ProductDescription" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>Product Code</label>
                    <input type="text" class="form-control" placeholder="Enter Product Code" asp-for="ProductCode">
                    <span asp-validation-for="ProductCode" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>Product Price</label>
                    <input type="text" class="form-control" placeholder="Enter Product Price" asp-for="ProductPrice">
                    <span asp-validation-for="ProductPrice" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <img id="imgpreview" height="50" width="50" src="" style="border-width: 0px; visibility: hidden;" />
                    <label>Upload Product Image</label>
                    <input type="file"  class="btn btn-primary form-control" asp-for="PhotoPath">
                    @* <div class="input-group col-xs-12">
                       <input type="file" class="form-control file-upload-info" disabled placeholder="Upload Product Image">
                        <span class="input-group-append">
                            <button class="file-upload-browse btn btn-primary" type="button">Upload</button>
                        </span>
                    </div> *@
                </div>
                <div class="form-group">
                    <label>Discount Percentage</label>
                    <input type="text" class="form-control" placeholder="Enter Discount Percentage" asp-for="DiscountPercentage">
                    <span asp-validation-for="DiscountPercentage" class="text-danger"></span>
                </div>
                <button type="submit" class="btn btn-primary me-2">Save</button>
                <button asp-area="Product" asp-controller="Product" asp-action="Product_List" class="btn btn-danger">Cancel</button>
            </form>
        </div>
    </div>
</div>

@section Scripts{
    <script>
        function showpreview(input) {

            if (input.files && input.files[0]) {

                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#imgpreview').css('visibility', 'visible');
                    $('#imgpreview').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }

        }

        $(document).ready(function () {
            $('.js-example-basic-single').select2();
        });
    </script>
}
